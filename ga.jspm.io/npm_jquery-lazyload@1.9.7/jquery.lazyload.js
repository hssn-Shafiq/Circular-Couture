var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;(function(t,i,o,n){var r=t(i);t.fn.lazyload=function(f){var a=this||e;var l;var d={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:i,data_attribute:"original",skip_invisible:false,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function update(){var i=0;a.each((function(){var o=t(this||e);if(!d.skip_invisible||o.is(":visible"))if(t.abovethetop(this||e,d)||t.leftofbegin(this||e,d));else if(t.belowthefold(this||e,d)||t.rightoffold(this||e,d)){if(++i>d.failure_limit)return false}else{o.trigger("appear");i=0}}))}if(f){if(n!==f.failurelimit){f.failure_limit=f.failurelimit;delete f.failurelimit}if(n!==f.effectspeed){f.effect_speed=f.effectspeed;delete f.effectspeed}t.extend(d,f)}l=d.container===n||d.container===i?r:t(d.container);0===d.event.indexOf("scroll")&&l.bind(d.event,(function(){return update()}));this.each((function(){var i=this||e;var o=t(i);i.loaded=false;o.attr("src")!==n&&false!==o.attr("src")||o.is("img")&&o.attr("src",d.placeholder);o.one("appear",(function(){if(!(this||e).loaded){if(d.appear){var n=a.length;d.appear.call(i,n,d)}t("<img />").bind("load",(function(){var e=o.attr("data-"+d.data_attribute);o.hide();o.is("img")?o.attr("src",e):o.css("background-image","url('"+e+"')");o[d.effect](d.effect_speed);i.loaded=true;var n=t.grep(a,(function(e){return!e.loaded}));a=t(n);if(d.load){var r=a.length;d.load.call(i,r,d)}})).attr("src",o.attr("data-"+d.data_attribute))}}));0!==d.event.indexOf("scroll")&&o.bind(d.event,(function(){i.loaded||o.trigger("appear")}))}));r.bind("resize",(function(){update()}));/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.bind("pageshow",(function(i){i.originalEvent&&i.originalEvent.persisted&&a.each((function(){t(this||e).trigger("appear")}))}));t(o).ready((function(){update()}));return this||e};t.belowthefold=function(e,o){var f;f=o.container===n||o.container===i?(i.innerHeight?i.innerHeight:r.height())+r.scrollTop():t(o.container).offset().top+t(o.container).height();return f<=t(e).offset().top-o.threshold};t.rightoffold=function(e,o){var f;f=o.container===n||o.container===i?r.width()+r.scrollLeft():t(o.container).offset().left+t(o.container).width();return f<=t(e).offset().left-o.threshold};t.abovethetop=function(e,o){var f;f=o.container===n||o.container===i?r.scrollTop():t(o.container).offset().top;return f>=t(e).offset().top+o.threshold+t(e).height()};t.leftofbegin=function(e,o){var f;f=o.container===n||o.container===i?r.scrollLeft():t(o.container).offset().left;return f>=t(e).offset().left+o.threshold+t(e).width()};t.inviewport=function(e,i){return!t.rightoffold(e,i)&&!t.leftofbegin(e,i)&&!t.belowthefold(e,i)&&!t.abovethetop(e,i)};t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})})(jQuery,window,document);var t={};export default t;

//# sourceMappingURL=jquery.lazyload.js.map